import{A as z,B as P,C as w,D as F,F as I,H as N,I as T,J as L,Q as A,V as O,a as f,b as h,d as s,e as v,g as b,h as x,j as C,k as S,l as p,m as u,o as g,p as y,q as a,r as d,t as j,u as _,v as k,x as m}from"./chunk-JNPKM4W2.js";var l={production:!1,backendProduit:"/assets/mock/produit.json",backendCard:"/assets/mock/card.json"};var $=(()=>{class n{http;produitSubject=new h([]);produits$=this.produitSubject.asObservable();constructor(t){this.http=t}getProduits(t="",i="",o=0){return this.http.get(l.backendProduit).pipe(s(r=>r.filter(e=>{let c=t?e.nom&&this.normalize(e.nom).includes(this.normalize(t)):!0,M=i?e.type&&this.normalize(e.type).includes(this.normalize(i)):!0,V=Number.isNaN(o)||o?e.prix!==void 0&&e.prix>=o:!0;return c||M||V})),s(r=>(this.produitSubject.next(r),r)))}getProduitsIndividual(t="",i="",o=0){return this.http.get(l.backendProduit).pipe(s(r=>r.filter(e=>t?t!==""&&e.nom&&this.normalize(e.nom).includes(this.normalize(t)):!0)),s(r=>r.filter(e=>i?i!==""&&e.type&&this.normalize(e.type).includes(this.normalize(i)):!0)),s(r=>r.filter(e=>o?e.prix!==void 0&&e.prix>=o:!0)),s(r=>(this.produitSubject.next(r),r)))}normalize(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}static \u0275fac=function(i){return new(i||n)(b(L))};static \u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function H(n,D){if(n&1){let t=j();a(0,"p"),m(1),a(2,"button",1),_("click",function(){let r=C(t).$implicit,e=k();return S(e.addToCart(r))}),m(3," Ajouter au Caddie "),d()()}if(n&2){let t=D.$implicit;p(),z(" ",t.nom," - ",t.type," - ",t.prix,"\u20AC ")}}var X=(()=>{class n{apiService;store;produits;constructor(t,i){this.apiService=t,this.store=i}ngOnInit(){this.apiService.getProduits().subscribe(),this.produits=this.apiService.produits$}addToCart(t){return f(this,null,function*(){this.store.dispatch(new O(t))})}static \u0275fac=function(i){return new(i||n)(u($),u(A))};static \u0275cmp=x({type:n,selectors:[["app-liste"]],standalone:!0,features:[P],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"card-btn",3,"click"]],template:function(i,o){i&1&&(a(0,"p"),m(1," Liste des produits "),d(),y(2,H,4,3,"p",0),w(3,"async")),i&2&&(p(2),g("ngForOf",F(3,1,o.produits)))},dependencies:[T,I,N]})}return n})();export{$ as a,X as b};
